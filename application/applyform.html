<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>Application Form</title>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.io/logo_vby.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/78659597ce.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Google Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;500;600;700&family=Sarabun:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans+Thai:wght@100..900&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans Thai', sans-serif;
        }

        input[type="file"] {
            display: none;
        }

        .bg-gray-50 {
            background-color: #f9fafb;
        }

        .bg-green-50 {
            background-color: #f0fdf4;
        }

        .bg-green-400 {
            background-color: #34d399;
        }

        .bg-green-500 {
            background-color: #10b981;
        }

        .bg-green-600 {
            background-color: #059669;
        }
    </style>


</head>

<body class="bg-gray-50 min-h-screen overflow-auto md:py-10">
    <div class="max-w-4xl mx-auto space-y-10">

        <!-- Header -->
        <div
            class="bg-white rounded-xl md:rounded-t-xl rounded-t-none shadow-md p-4 md:p-8 grid grid-cols-2 gap-4 items-center mt-0 md:mt-4">
            <!-- ส่วนซ้าย -->
            <div class="flex items-center min-w-0">
                <span class="text-green-600 text-2xl md:text-3xl flex-shrink-0">
                    <i class="fa-solid fa-file-lines"></i>
                </span>
                <h2 class="ml-3 text-base md:text-2xl font-medium truncate">
                    ใบสมัครงาน <br class="block md:hidden" />(Application Form)
                </h2>
            </div>
            <!-- ส่วนขวา -->
            <div class="flex justify-end">
                <img src="../assets/favicon.io/logo_vby.png" class="w-10 h-10 md:w-14 md:h-14" alt="logo_vby">
            </div>
        </div>

        <!-- <div x-data="{ open: false }">
            <button @click="open = !open" class="bg-green-500 px-4 py-2 text-white rounded">Toggle</button>
            <div x-show="open" class="mt-2 p-4 bg-gray-100 rounded shadow">
                นี่คือข้อความที่ซ่อน/แสดงด้วย Alpine.js!
            </div>
        </div> -->

        <!-- Section: Profile & Basic Info -->
        <form autocomplete="off">
            <div class="grid md:grid-cols-3 gap-8 bg-white rounded-xl shadow-md p-8">
                <!-- Profile Image -->
                <div class="flex flex-col items-center justify-start col-span-1">
                    <div id="image-container"
                        class="relative w-[200px] h-[200px] rounded-full border-4 border-dashed border-green-400 flex items-center justify-center bg-gray-100 hover:bg-green-50 transition mb-4">
                        <input type="file" id="image1" name="img_user" accept=".jpg,.jpeg,.png," class="hidden" />
                        <label for="image1"
                            class="cursor-pointer absolute inset-0 flex flex-col items-center justify-center">
                            <div id="image-placeholder" class="flex flex-col items-center justify-center">
                                <span class="text-gray-300 text-4xl"><i class="fa-regular fa-image"></i></span>
                                <span class="text-xs text-gray-500">ลากหรือคลิก</span>
                            </div>
                        </label>
                        <img id="preview" class="w-full h-full object-cover rounded-full hidden" />
                    </div>
                    <span class="text-xs text-gray-400 text-center">รองรับ .jpg, .png, .jpeg</span>
                </div>

                <!-- Basic Info -->
                <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">ตำแหน่งที่สมัคร <span
                                class="text-red-500">*</span></label>
                        <select required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                            <option value="">-- กรุณาเลือก --</option>
                            <option value="sale">Sale</option>
                            <option value="admin">Admin</option>
                            <option value="it">IT Support</option>
                            <option value="programmer">Programmer</option>
                            <option value="advertising">Advertising Manager</option>
                            <option value="bd">Business Development</option>
                            <option value="sustainable">Sustainable Development </option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">วุฒิการศึกษาสูงสุด <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50" />
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">สาขา <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50" />
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">เงินเดือนที่ต้องการ <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50" />
                    </div>
                </div>
            </div>

            <!-- Section: Required Documents -->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <h2 class="text-lg font-bold text-green-600">
                    ใบสมัครงานเป็นส่วนหนึ่งในการพิจารณาโปรดกรอกข้อความให้ครบถ้วน</h2>
                <div class="grid md:grid-cols-3 gap-4">
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        รูปถ่ายหน้าตรง 1 นิ้ว </label>
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        สำเนาทะเบียนบ้าน </label>
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        สำเนาใบผ่านทหาร </label>
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        สำเนาใบรับรองการศึกษา </label>
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        สำเนาบัตรประชาชน </label>
                    <label class="flex items-center gap-3"><input type="checkbox" class="accent-green-500 w-5 h-5">
                        สำเนาใบผ่านงาน </label>
                </div>
            </div>

            <!-- Section: Personal Info -->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <h2 class="text-lg font-bold text-green-600">ข้อมูลส่วนตัว</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div> <!-- Row 1 -->
                        <label class="block text-gray-700 font-semibold mb-1">คำนำหน้าชื่อ <span
                                class="text-red-500">*</span></label>
                        <div class="flex gap-4">
                            <label class="flex items-center gap-2"><input type="radio" name="prefix"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer" required> นาย/Mr.</label>
                            <label class="flex items-center gap-2"><input type="radio" name="prefix"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer" required> นาง/Ms.</label>
                            <label class="flex items-center gap-2"><input type="radio" name="prefix"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer" required>
                                นางสาว/Mrs.</label>
                        </div>
                    </div>
                    <div class="flex items-center grid grid-cols-2 gap-4 items-center"> <!-- Row 1 -->
                        <div class="">
                            <label class="block text-gray-700 font-semibold mb-1">วัน/เดือน/ปีเกิด <span
                                    class="text-red-500">*</span></label>
                            <input type="date" id="birthdate" required
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-1">เวลาเกิด</label>
                            <input type="time"
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                    </div>

                    <div> <!-- Row 2 -->
                        <label class="block text-gray-700 font-semibold mb-1">เลขที่บัตรประชาชน <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            placeholder="X-XXXX-XXXXX-XX-X" maxlength="17" autocomplete="off"
                            oninput="formatThaiID(this)">
                    </div>
                    <div class="flex items-center grid grid-cols-2 gap-4 items-center"> <!-- Row 2 -->
                        <div>
                            <label class="block text-gray-700 font-semibold mb-1">วันที่ออกบัตร</label>
                            <input type="date" id="" required
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>

                        <div>
                            <label class="block text-gray-700 font-semibold mb-1">บัตรหมดอายุ</label>
                            <input type="date" id="" required
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                    </div>

                    <div> <!-- Row 3 -->
                        <label class="block text-gray-700 font-semibold mb-1">ชื่อ-นามสกุล (ไทย) <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            placeholder="ชื่อ - นามสกุล ภาษาไทย">
                    </div>
                    <div> <!-- Row 3 -->
                        <label class="block text-gray-700 font-semibold mb-1">ชื่อ-นามสกุล (อังกฤษ) <span
                                class="text-red-500">*</span></label>
                        <input type="text" required
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            placeholder="ชื่อ - นามสกุล ภาษาอังกฤษ">
                    </div>

                    <div> <!-- Row 4 -->
                        <label class="block text-gray-700 font-semibold mb-1">ชื่อเล่น (ไทย)</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div> <!-- Row 4 -->
                        <label class="block text-gray-700 font-semibold mb-1">ชื่อเล่น (อังกฤษ)</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                </div>

                <div class="flex items-end grid grid-cols-4 gap-6 items-end"> <!--Row 5 -->
                    <div>
                        <label class="block text-gray-700 font-semibold">อายุ (ปี) <span
                                class="text-red-500">*</span></label>
                        <input type="number" id="age" readonly disabled placeholder="--"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 bg-gray-200 text-gray-700">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">สัญชาติ</label>
                        <input type="text" id="nationality"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">เชื้อชาติ</label>
                        <input type="text" id="ethnicity"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">กรุ๊ปเลือด</label>
                        <input type="text" id="bloodType"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                </div>

                <div class="flex items-end grid grid-cols-3 gap-6 items-end"> <!--Row 6 -->
                    <div>
                        <label class="block text-gray-700 font-semibold">ส่วนสูง (ซม.) </label>
                        <input type="number" id=""
                            class=" w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">น้ำหนัก (กก.) </label>
                        <input type="number" id=""
                            class=" w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">สีผิว</label>
                        <input type="text" id=""
                            class=" w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                </div>

                <div class="flex items-center grid grid-cols-2 gap-6 items-center "> <!--Row 7 -->
                    <div>
                        <label class="block text-gray-700 font-semibold">สถานที่เกิด</label>
                        <input type="text" id=""
                            class=" w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold">ตำหนิ/รอยสัก</label>
                        <input type="text" id=""
                            class=" w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                </div>
            </div>

            <!-- Section: Personal Family Info and Status -->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <h2 class="text-lg font-bold text-green-600">ข้อมูลครอบครัว</h2>
                <div>
                    <div class="flex items-center grid md:grid-cols-[400px_2fr_3fr] gap-6 items-end">
                        <!-- ข้อมูลพ่อ-แม่ -->
                        <!-- ชื่อ-นามสกุล บิดา -->
                        <div>
                            <label class="block text-gray-700 font-semibold">ชื่อ-นามสกุล บิดา</label>
                            <input type="text"
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                        <!-- อาชีพ บิดา -->
                        <div>
                            <label class="block text-gray-700 font-semibold">อาชีพ บิดา</label>
                            <input type="text"
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                        <!-- Radio Group (แนวตั้ง) -->
                        <div class="flex flex-col gap-y-2 md:mt-0 lg:ml-24">
                            <label class="flex items-center gap-2">
                                <input type="radio" name="dadalive" value="yes"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                                <span class="text-gray-700 font-medium">มีชีวิตอยู่</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="radio" name="dadalive" value="no"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                                <span class="text-gray-700 font-medium">ถึงแก่กรรม</span>
                            </label>
                        </div>

                        <!-- ชื่อ-นามสกุล มารดา -->
                        <div>
                            <label class="block text-gray-700 font-semibold">ชื่อ-นามสกุล มารดา</label>
                            <input type="text"
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                        <!-- อาชีพ มารดา -->
                        <div>
                            <label class="block text-gray-700 font-semibold">อาชีพ มารดา</label>
                            <input type="text"
                                class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                        </div>
                        <!-- Radio Group (แนวตั้ง) -->
                        <div class="flex flex-col gap-y-2 md:mt-0 lg:ml-24">
                            <label class="flex items-center gap-2">
                                <input type="radio" name="momalive" value="yes"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                                <span class="text-gray-700 font-medium">มีชีวิตอยู่</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="radio" name="momalive" value="no"
                                    class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                                <span class="text-gray-700 font-medium">ถึงแก่กรรม</span>
                            </label>
                        </div>
                    </div>
                </div>

                <h2 class="text-lg font-bold text-green-600">สถานภาพ</h2>
                <div class="flex items-center grid md:grid-cols-[20%_80%]">

                    <!-- Row 1 -->
                    <label class="block text-gray-700 font-semibold mb-1">สถานภาพทางสมรส :</label>
                    <div class="flex gap-4 mb-2">
                        <label class="flex items-center gap-2"><input type="radio" name="status"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            โสด</label>
                        <label class="flex items-center gap-2"><input type="radio" name="status"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            สมรส</label>
                        <label class="flex items-center gap-2"><input type="radio" name="status"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            หม้าย</label>
                        <label class="flex items-center gap-2"><input type="radio" name="status"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            หย่าร้าง</label>
                    </div>

                    <!-- Row 2 -->
                    <label class="block text-gray-700 font-semibold mb-1">สถานภาพทางทหาร :</label>
                    <div class="flex gap-2">
                        <label class="flex items-center gap-2"><input type="radio" name="militaryStatus"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            ยังไม่ได้รับการเกณฑ์ทหาร</label>
                        <label class="flex items-center gap-2"><input type="radio" name="militaryStatus"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            ผ่านการเกณฑ์ทหารแล้ว</label>
                        <label class="flex items-center gap-2"><input type="radio" name="militaryStatus"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            รับราชการทหารแล้ว</label>
                        <label class="flex items-center gap-2"><input type="radio" name="militaryStatus"
                                class="w-[15px] h-[15px] accent-green-600 cursor-pointer">
                            ได้รับการยกเว้น</label>
                    </div>
                </div>
            </div>

            <!-- Section: Address & Contact -->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <h2 class="text-lg font-bold text-green-600">ที่อยู่และการติดต่อ</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">ที่อยู่ปัจจุบัน</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            placeholder="เลขที่/หมู่บ้าน/ซอย/ถนน">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">จังหวัด</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">อำเภอ/เขต</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">ตำบล/แขวง</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">รหัสไปรษณีย์</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">เบอร์โทรศัพท์</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">เบอร์มือถือ <span
                                class="text-red-500">*</span></label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            required>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">E-mail <span
                                class="text-red-500">*</span></label>
                        <input type="email"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50"
                            required>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Facebook</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-semibold mb-1">Line ID</label>
                        <input type="text"
                            class="w-full h-10 border border-gray-300 rounded-lg px-3 focus:ring-2 focus:ring-green-400 bg-gray-50">
                    </div>
                </div>
            </div>

            <!-- Section: Education Table (Dynamic) -->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-lg font-bold text-green-600">ประวัติการศึกษา</h2>
                    <button type="button"
                        class="bg-green-500 hover:bg-green-700 text-white px-4 py-1 rounded-full flex items-center gap-1 text-sm"
                        onclick="addEduRow()">
                        <i class="fa-solid fa-plus"></i> เพิ่มแถว
                    </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm border rounded-lg">
                        <thead>
                            <tr class="bg-gray-100 text-center">
                                <th class="py-2 px-4">ระดับการศึกษา</th>
                                <th class="py-2 px-4">ชื่อสถานศึกษา</th>
                                <th class="py-2 px-4">ประเทศ</th>
                                <th class="py-2 px-4">หลักสูตร</th>
                                <th class="py-2 px-4">สาขาวิชา</th>
                                <th class="py-2 px-4">เกรดเฉลี่ย</th>
                                <th class="py-2 px-4">ปีที่สำเร็จการศึกษา</th>
                                <th class="py-2 px-4">ลบ</th>
                            </tr>
                        </thead>
                        <tbody id="edu-table-body"></tbody>
                    </table>
                </div>
                <template id="edu-row-template">
                    <tr>
                        <td> <!--select ระดับการศึกษา-->
                            <select class="border rounded px-2 py-1 bg-gray-50 my-1">
                                <option value="" disabled selected>ระดับการศึกษา</option>
                                <option value="doctorate">ปริญญาเอก</option>
                                <option value="master">ปริญญาโท</option>
                                <option value="bachelor">ปริญญาตรี</option>
                                <option value="associate">อนุปริญญา</option>
                                <option value="vocational_diploma">ปวส.</option>
                                <option value="vocational_certificate">ปวช.</option>
                                <option value="high_school">มัธยมศึกษา</option>
                            </select>
                        </td>
                        <td><input type="text" class="border rounded px-2 py-1 w-60 bg-gray-50" /></td>
                        <td><input type="text" class="border rounded px-2 py-1 w-32 bg-gray-50" /></td>
                        <td><input type="text" class="border rounded px-2 py-1  bg-gray-50" /></td>
                        <td><input type="text" class="border rounded px-2 py-1 bg-gray-50" /></td>
                        <td><input type="text" class="border rounded px-2 py-1 w-16 bg-gray-50" /></td>
                        <td><input type="text" class="border rounded px-2 py-1 w-20 bg-gray-50" /></td>
                        <td class="text-center">
                            <button type="button" class="text-red-500 remove-row-btn text-lg"><i
                                    class="fa-solid fa-trash"></i></button>
                        </td>
                    </tr>
                </template>
            </div>

            <!-- Section: Talent ความสามารถ ก้อนนี้ลองใช้ Alpine.js เขียนด้วย-->
            <div class="bg-white rounded-xl shadow-md p-8 space-y-6 mt-8">
                <h2 class="text-lg font-bold text-green-600">ความสามารถ</h2>
                <div class="flex items-center grid md:grid-cols-[100%]">

                    <!-- Row 1 ความสามารถในการขับขี่ -->
                    <div x-data="{ car: false, motorcycle: false }">
                        <label class="block text-gray-700 font-semibold mb-2">ความสามารถในการใช้รถ</label>

                        <div class="flex flex-col sm:flex-row sm:gap-x-4 md:gap-x-6">
                            <!-- ใบขับขี่รถยนต์ -->
                            <div class="space-y-2">
                                <label class="inline-flex items-center gap-2">
                                    <input type="checkbox" class="accent-green-600 w-4 h-4" x-model="car">
                                    <span>มีใบขับขี่รถยนต์</span>
                                </label>
                                <div x-show="car" x-transition>
                                    <input type="text" placeholder="เลขที่ใบขับขี่รถยนต์"
                                        class="w-full sm:w-60 border border-gray-300 focus:ring-2 focus:ring-green-400 rounded px-3 py-1 bg-gray-50 mb-4" />
                                </div>
                            </div>

                            <!-- ใบขับขี่รถจักรยานยนต์ -->
                            <div class="space-y-2">
                                <label class="inline-flex items-center gap-2">
                                    <input type="checkbox" class="accent-green-600 w-4 h-4" x-model="motorcycle">
                                    <span>มีใบขับขี่รถจักรยานยนต์</span>
                                </label>
                                <div x-show="motorcycle" x-transition>
                                    <input type="text" placeholder="เลขที่ใบขับขี่รถจักรยานยนต์"
                                        class="w-full sm:w-60 border border-gray-300 focus:ring-2 focus:ring-green-400 rounded px-3 py-1 bg-gray-50 mb-4" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Row 2 ความสามารถด้านคอมพิวเตอร์-->
                    <div x-data="{ programs: [{ name: '', level: '' }] }">
                        <div class="flex items-center justify-between mb-2">
                            <label class="block text-gray-700 font-semibold mb-2 mt-6">ความสามารถด้านคอมพิวเตอร์</label>
                            <button type="button"
                                class="bg-green-500 hover:bg-green-700 text-white px-4 py-1 rounded-full flex items-center gap-1 text-sm mt-2"
                                @click="programs.push({ name: '', level: '' })">
                                <i class="fa-solid fa-plus"></i> เพิ่มโปรแกรม
                            </button>
                        </div>

                        <template x-for="(program, idx) in programs" :key="idx">
                            <div class="grid grid-cols-1 md:grid-cols-[2fr_auto_auto] gap-6 mb-2">
                                <!-- โปรแกรม -->
                                <input type="text" x-model="program.name"
                                    class="h-10 border border-gray-300 focus:ring-2 focus:ring-green-400 rounded-lg px-3 bg-gray-50"
                                    placeholder="Microsoft Excel, Photoshop etc.">

                                <!-- กลุ่ม selector + ปุ่มลบ -->
                                <div class="flex flex-wrap gap-2 md:contents">
                                    <select x-model="program.level"
                                        class="h-10 border border-gray-300 rounded-lg px-3 bg-gray-50">
                                        <option value="" disabled selected>เลือกความชำนาญ</option>
                                        <option>พื้นฐาน</option>
                                        <option>ปานกลาง</option>
                                        <option>ดีมาก</option>
                                    </select>

                                    <button type="button" class="ml-12 sm:ml-auto text-red-500 font-bold px-2"
                                        @click="programs.length > 1 ? programs.splice(idx, 1) : null"
                                        x-show="programs.length >= 0" title="ลบโปรแกรมนี้">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </div>

                            </div>
                        </template>
                    </div>
                    <!-- Row 3 ความสามารถด้านภาษา -->
                    <div x-data="{
                                    langs: [
                                    { name: 'ภาษาไทย', level: '', file: null },
                                    { name: 'ภาษาอังกฤษ', level: '', file: null }
                                    ]
                                }">
                        <div class="flex items-center justify-between mb-2">
                            <label class="block text-gray-700 font-semibold mb-2 mt-6">ความสามารถด้านภาษา</label>
                            <button type="button"
                                class="bg-green-500 hover:bg-green-700 text-white px-4 py-1 rounded-full flex items-center gap-1 text-sm mt-2"
                                @click="langs.push({ name: '', level: '', file: null })">
                                <i class="fa-solid fa-plus"></i> เพิ่มภาษา
                            </button>
                        </div>
                        <template x-for="(lang, idx) in langs" :key="idx">
                            <div class="space-y-2 md:grid md:grid-cols-[1.5fr_1fr_auto_auto] gap-6 mb-2 items-center">

                                <!-- ภาษาอื่น ๆ -->
                                <input type="text" x-model="lang.name" 
                                    :readonly="[0, 1].includes(idx)"
                                    :class="{ 'bg-gray-200 text-gray-700': [0, 1].includes(idx) }"
                                    class="h-10 border border-gray-300 rounded-lg px-3 bg-gray-50"
                                    placeholder="ภาษาอื่น ๆ">

                                <!-- selector + ปุ่มอัปโหลด + ปุ่มลบ (Respone มือถือ) -->
                                <div class="flex flex-wrap gap-2 md:contents">
                                    <!-- Selector -->
                                    <select x-model="lang.level"
                                        class="h-10 border border-gray-300 rounded-lg px-3 bg-gray-50 md:col-start-2">
                                        <option value="" disabled selected>เลือกความชำนาญ</option>
                                        <option>พื้นฐาน</option>
                                        <option>ปานกลาง</option>
                                        <option>ดีมาก</option>
                                        <option>เจ้าของภาษา</option>
                                    </select>

                                    <!-- ปุ่มอัปโหลด -->
                                    <label
                                        class="cursor-pointer flex items-center justify-center h-10 w-10 rounded bg-green-500 hover:bg-green-700 text-white border border-gray-300 md:col-start-3"
                                        :title="'อัปโหลดใบคะแนน ('+ lang.name +')'">
                                        <i class="fa-solid fa-file-arrow-up"></i>
                                        <input type="file" class="hidden" @change="lang.file = $event.target.files[0]">
                                    </label>

                                    <!-- ปุ่มลบ -->
                                    <button type="button" class="ml-0 sm:ml-auto text-red-500 font-bold px-2 md:col-start-4"
                                        @click="langs.length > 2 ? langs.splice(idx, 1) : null"
                                        x-show="langs.length > 0" title="ลบภาษา">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </template>

                        <p class="text-xs text-gray-500 mt-2 ml-1">
                            <i class="fa-solid fa-file-arrow-up mr-2 "></i>อัปโหลดไฟล์ผลคะแนน CU-TFL, TOEIC, IELTS,
                            TOEFL, HSK, JLPT หรืออื่น ๆ (ถ้ามี)
                        </p>
                    </div>
                </div>
            </div>

            <!-- Section: Submit Button -->
            <div class="flex justify-center md:justify-end my-8">
                <button type="submit"
                    class="bg-gradient-to-r from-green-400 to-green-600 text-white px-8 py-2 rounded-full shadow hover:scale-105 transition font-semibold text-lg">
                    <i class="fa-solid fa-paper-plane mr-2"></i> ส่งใบสมัคร
                </button>
            </div>
        </form>
    </div>

    <!-- Modern JS: Image Preview & Dynamic Table -->
    <script>
        // Modern Image Preview
        const input = document.getElementById('image1');
        const preview = document.getElementById('preview');
        const placeholder = document.getElementById('image-placeholder');

        input.addEventListener('change', function () {
            if (this.files && this.files[0]) {
                preview.src = URL.createObjectURL(this.files[0]);
                preview.classList.remove('hidden');
                placeholder.classList.add('hidden');
            }
        });

        // drag and drop 
        const container = document.getElementById('image-container');
        container.addEventListener('dragover', e => {
            e.preventDefault();
            container.classList.add('ring-4', 'ring-green-400');
        });
        container.addEventListener('dragleave', e => {
            e.preventDefault();
            container.classList.remove('ring-4', 'ring-green-400');
        });
        container.addEventListener('drop', e => {
            e.preventDefault();
            container.classList.remove('ring-4', 'ring-green-400');
            const files = e.dataTransfer.files;
            if (files && files[0]) {
                input.files = files;
                preview.src = URL.createObjectURL(files[0]);
                preview.classList.remove('hidden');
                placeholder.classList.add('hidden');
            }
        });

        //alert file >2mb
        const maxSize = 2 * 1024 * 1024; // 2MB
        document.getElementById('image1').addEventListener('change', function (e) {
            const file = this.files[0];
            if (file && file.size > maxSize) {
                alert('ขนาดไฟล์ต้องไม่เกิน 2MB');
                this.value = " "; // ลบไฟล์ที่เลือกออก
                // หรือจะ reset preview, reset error message เพิ่มเติม
            }
        });

        const birthInput = document.getElementById("birthdate");
        const ageInput = document.getElementById("age");

        birthInput.addEventListener("change", function () {
            const birthDate = new Date(this.value);
            const today = new Date();

            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();

            // ถ้ายังไม่ถึงวันเกิดปีนี้ ให้ลบอายุออก 1 ปี
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }

            ageInput.value = age >= 0 ? age : '';
        });

        // Dynamic Education Table
        function addEduRow() {
            const template = document.getElementById('edu-row-template').content.cloneNode(true);
            template.querySelector('.remove-row-btn').onclick = function (e) {
                const tbody = document.getElementById('edu-table-body');
                // เช็คจำนวนแถว
                if (tbody.querySelectorAll('tr').length > 1) {
                    e.target.closest('tr').remove();
                }
                // ถ้ามีแค่ 1 แถว ไม่ต้องลบ
            };
            document.getElementById('edu-table-body').appendChild(template);
            updateRemoveBtnState();
        }

        // ฟังก์ชันสำหรับซ่อน/โชว์ปุ่มลบ
        function updateRemoveBtnState() {
            const tbody = document.getElementById('edu-table-body');
            const rows = tbody.querySelectorAll('tr');
            rows.forEach(row => {
                const btn = row.querySelector('.remove-row-btn');
                if (rows.length === 0) {
                    btn.style.display = 'none'; // ซ่อนปุ่มลบถ้ามีแค่แถวเดียว
                } else {
                    btn.style.display = '';
                }
            });
        }

        // Add first row by default
        window.onload = () => { addEduRow(); }; // เพิ่มในฟังก์ชัน addEduRow และหลังจากลบแถวเสร็จ

        function formatThaiID(input) { //Thai ID Card Format
            // ลบทุกตัวที่ไม่ใช่ตัวเลข
            let value = input.value.replace(/\D/g, '');

            // ตัดให้เหลือ 13 หลัก
            if (value.length > 13) value = value.substr(0, 13);

            // ใส่ขีดตามฟอร์แมต
            let formatted = value;
            if (value.length > 0) formatted = value.substr(0, 1);
            if (value.length > 1) formatted += '-' + value.substr(1, 4);
            if (value.length > 5) formatted += '-' + value.substr(5, 5);
            if (value.length > 10) formatted += '-' + value.substr(10, 2);
            if (value.length > 12) formatted += '-' + value.substr(12, 1);

            input.value = formatted;
        }
    </script>
</body>

</html>